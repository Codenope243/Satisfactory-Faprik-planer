const bibliothek={
    Eisenbarren:{
        bild:"Eisenbarren.png",
        produktionszeit:2,
        ressurce1:1,
        ertrag:1,
    },

    Eisenstangen:{
        bild:"Eisenbarren.png",
        produktionszeit:14,
        ressurce1:1,
        ertrag:1,
    },

    Eisenplatten:{
        bild:"Eisenbarren.png",
        produktionszeit:6,
        ressurce1:3,
        ertrag:2,
    },

    Kupferbarren:{
        bild:"Eisenbarren.png",
        produktionszeit:2,
        ressurce1:1,
        ertrag:1,
    },

    Kupferdraht:{
        bild:"Eisenbarren.png",
        produktionszeit:4,
        ressurce1:1,
        ertrag:2,
    },

    Kabel:{
        bild:"Eisenbarren.png",
        produktionszeit:2,
        ressurce1:2,
        ertrag:1,
    },

    Beton:{
        bild:"Eisenbarren.png",
        produktionszeit:4,
        ressurce1:3,
        ertrag:1,
    },

    Schrauben:{
        bild:"Eisenbarren.png",
        produktionszeit:6,
        ressurce1:1,
        ertrag:4,
    },

    VerstärkteEisenplatten:{
        bild:"Eisenbarren.png",
        produktionszeit:12,
        ressurce1:6,
        ressurce2ressurce2:12,
        ertrag:1,
    },

    Fabpatrronen:{
        bild:"Eisenbarren.png",
        produktionszeit:6,
        ressurce1:5,
        ertrag:10,
    },

    Kupferblech:{
        bild:"Eisenbarren.png",
        produktionszeit:6,
        ressurce1:2,
        ertrag:1,
    },

    Rotoren:{
        bild:"Eisenbarren.png",
        produktionszeit:15,
        ressurce1:5,
        ressurce2ressurce2:25,
        ertrag:1,
    },

    modularerRahmen:{
        bild:"Eisenbarren.png",
        produktionszeit:60,
        ressurce1:3,
        ressurce2ressurce2:12,
        ertrag:2,
    },

    IntelligenteBeschichtung:{
        bild:"Eisenbarren.png",
        produktionszeit:30,
        ressurce1:1,
        ressurce2ressurce2:1,
        ertrag:1,
    },

    AlienDNAKapsel:{
        bild:"Eisenbarren.png",
        produktionszeit:6,
        ressurce1:1,
        ertrag:1,
    },

    Stahlbarren:{
        bild:"Eisenbarren.png",
        produktionszeit:4,
        ressurce1:3,
        ressurce2ressurce2:3,
        ertrag:3,
    },

    Stahlträger:{
        bild:"Eisenbarren.png",
        produktionszeit:4,
        ressurce1:4,
        ertrag:1,
    },

    Stahlrohre:{
        bild:"Eisenbarren.png",
        produktionszeit:6,
        ressurce1:3,
        ertrag:2, 
    },

    Mehrzweckgerüst:{
        bild:"Eisenbarren.png",
        produktionszeit:24,
        ressurce1:1,
        ressurce2ressurce2:12,
        ertrag:2,
    },

    Stahlbetontrager:{
        bild:"Eisenbarren.png",
        produktionszeit:10,
        ressurce1:4,
        ressurce2ressurce2:5,
        ertrag:1,
    },

    Stator:{
        bild:"Eisenbarren.png",
        produktionszeit:12,
        ressurce1:3,
        ressurce2ressurce2:8,
        ertrag:1,
    },

    Motor:{
        bild:"Eisenbarren.png",
        produktionszeit:12,
        ressurce1:2,
        ressurce2ressurce2:2,
        ertrag:1,
    },

    AutomatischeVerkabelung:{
        bild:"Eisenbarren.png",
        produktionszeit:24,
        ressurce1:1,
        ressurce2ressurce2:20,
        ertrag:1,
    },

    SchwerermodularerRahmen:{
        bild:"Eisenbarren.png",
        produktionszeit:30,
        ressurce1:5,
        ressurce2ressurce2:15,
        ressurce3:5,
        ressurce4:100,
        ertrag:1,
    },

    Cateriumbarren:{
        bild:"Eisenbarren.png",
        produktionszeit:4,
        ressurce1:3,
        ertrag:1,
    },

    Turbodraht:{
        bild:"Eisenbarren.png",
        produktionszeit:5,
        ressurce1:1,
        ertrag:5,
    },

    KIBegrenzer:{
        bild:"Eisenbarren.png",
        produktionszeit:12,
        ressurce1:5,
        ressurce2ressurce2:20,
        ertrag:1,
    },

    Quarzkristall:{
        bild:"Eisenbarren.png",
        produktionszeit:8,
        ressurce1:5,
        ertrag:3,
    },

    Quarzsand:{
        bild:"Eisenbarren.png",
        produktionszeit:8,
        ressurce1:3,
        ertrag:5,
    },
//nebenprudukt von kunstof (schweröllrükstand)(1)muss noch hinzugefügt werdern
    Kunststoff:{
        bild:"Eisenbarren.png",
        produktionszeit:6,
        ressurce1:3,
        ertrag:2,
        
    },
//nebenprudukt von Gummi (schweröllrükstand)(2)muss noch hinzugefügt werdern
    Gummi:{
        bild:"Eisenbarren.png",
        produktionszeit:6,
        ressurce1:3,
        ertrag:2,
    },

    Platine:{
        bild:"Eisenbarren.png",
        produktionszeit:8,
        ressurce1:2,
        ressurce2ressurce2:4,
        ertrag:1,
    },

    Computer:{
        bild:"Eisenbarren.png",
        produktionszeit:24,
        ressurce1:4,
        ressurce2ressurce2:4,
        ressurce3:4,
        ressurce4:4,
        ertrag:1,
    },

    ModularerMotor:{
        bild:"Eisenbarren.png",
        produktionszeit:60,
        ressurce1:2,
        ressurce2ressurce2:15,
        ressurce3:2,
        ertrag:1,
    },

    AdaptiveSteuereinheit:{
        bild:"Eisenbarren.png",
        produktionszeit:120,
        ressurce1:15,
        ressurce2ressurce2:10,
        ressurce3:2,
        ressurce4:2,
        ertrag:2,
    },

    LeererKanister:{
        bild:"Eisenbarren.png",
        produktionszeit:4,
        ressurce1:2,
        ertrag:4,
    },

    HighspeedAnschluss:{
        bild:"Eisenbarren.png",
        produktionszeit:16,
        ressurce1:56,
        ressurce2ressurce2:10,
        ressurce3:1,
        ertrag:1,
    },

    Quarzoszillator:{
        bild:"Eisenbarren.png",
        produktionszeit:120,
        ressurce1:36,
        ressurce2ressurce2:28,
        ressurce3:5,
        ertrag:2,
    },
}

let produkt = ""

setInterval(function() {
    let produktionsmengeInput = document.getElementsByClassName("produkt-menge-feld")[0];
    let produktionsmenge = parseFloat(produktionsmengeInput.value);
    
    if (produktionsmenge < 0) {
        produktionsmengeInput.value = 0;
    }


    const werte = bibliothek[produkt]

    if(werte){
    
        const bild =werte.bild
        const produktionszeit = werte.produktionszeit
        const ressurce1 = werte.ressurce1
        const ressurce2 = werte.ressurce2
        const ertrag = werte.ertrag

        // Berechne die Gesamtzeit für die Herstellung
        const gesamtzeit = (produktionsmenge * produktionszeit) /60 ;
   
            // Berechne die Gesamtanzahl der benötigten Ressourcen
            const benötigteRessurce1 = produktionsmenge * ressurce1 / ertrag;
            const benötigteRessurce2  = produktionsmenge * ressurce2 / ertrag;


            const ressourcenProMinFeld = document.getElementsByClassName("produkt-menge-feld")[0];
            ressourcenProMinFeld.innerHTML = "Pro min:" + benötigteRessurce1;
            
            const produktbildContainer = document.querySelector(".produktbild-container");
            produktbildContainer.style.backgroundImage = "url(hintergrund-bilder/platzhalter.jpg)";
            

    }else{
        console.log("Produkt nicht gefunden in der Bibliothek");
    }


    
}, 100);


function produktmengeVerringern(){
    let produktmengeInput = document.getElementsByClassName("produkt-menge-feld")[0]

    produktmengeInput.value--
}

function produktmengeErhöhen(){
    let produktmengeInput = document.getElementsByClassName("produkt-menge-feld")[0]

    produktmengeInput.value++
}

const produkteAuswahlContainer = document.getElementById("produkte-auswahl-container");
produkteAuswahlContainer.style.visibility = "hidden";

function produkteAuswahlEinAusBlenden() {
    
    const produkteAuswahlContainer = document.getElementById("produkte-auswahl-container");
    const produktBilder = document.getElementsByClassName("produkt-bild");

    if (produkteAuswahlContainer.style.visibility === "hidden") {
        produkteAuswahlContainer.style.visibility = "visible";

        for (let e = 0; e < produktBilder.length; e++) {
            produktBilder[e].style.transition = "ease 0.3s";
        }

        console.log("true")
    } else {
        for (let i = 0; i < produktBilder.length; i++) {
            produktBilder[i].style.transition = "ease 0.0s";
        }
        produkteAuswahlContainer.style.visibility = "hidden";
        
        console.log("false")
    }
}