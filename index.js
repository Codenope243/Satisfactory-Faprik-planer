const bibliothek={
    Eisenbarren:{
        bild:"url('bilder/Eisenbarren.png')",
        produktionszeit:2,
        ressurce1:1,
        ressurce1Name:" Eisenerz ",
        ertrag:1,
    },
    
    Eisenstangen:{
        bild:"url('bilder/Eisenstangen.png')",
        produktionszeit:14,
        ressurce1:1,
        ressurce1Name:" Eisenbaren ",
        ertrag:1,
    },

    Eisenplatten:{
        bild:"url('bilder/Eisenplatten.png')",
        produktionszeit:6,
        ressurce1:3,
        ressurce1Name:" Eisenbaren ",
        ertrag:2,
    },

    Kupferbarren:{
        bild:"url('bilder/Kupferbarren.png')",
        produktionszeit:2,
        ressurce1:1,
        ressurce1Name:" Kupferererz ",
        ertrag:1,
    },

    Kupferdraht:{
        bild:"url('bilder/Kupferdraht.png')",
        produktionszeit:4,
        ressurce1:1,
        ressurce1Name:" Kupferbarren ",
        ertrag:2,
    },

    Kabel:{
        bild:"url('bilder/Kabel.png')",
        produktionszeit:2,
        ressurce1:2,
        ressurce1Name:" Draht ",
        ertrag:1,
    },

    Beton:{
        bild:"url('bilder/Beton.png')",
        produktionszeit:4,
        ressurce1:3,
        ressurce1Name:" Kalkstein ",
        ertrag:1,
    },

    Schrauben:{
        bild:"url('bilder/Schrauben.png')",
        produktionszeit:6,
        ressurce1:1,
        ressurce1Name:" Eisenstangen ",
        ertrag:4,
    },

    VerstärkteEisenplatten:{
        bild:"url('bilder/Verstärkte Eisenplatten.png')",
        produktionszeit:12,
        ressurce1:6,
        ressurce1Name:" Eisenplatten ",
        ressurce2:12,
        ressurce2Name:" Schrauben ",
        ertrag:1,
    },

    Fabpatrronen:{
        bild:"url('bilder/Fabpatrronen.png')",
        produktionszeit:6,
        ressurce1:5,
        ressurce1Name:" Blütenblätter ",
        ertrag:10,
    },

    Kupferblech:{
        bild:"url('bilder/Kupferblech.png')",
        produktionszeit:6,
        ressurce1:2,
        ressurce1Name:" Kupferbarren ",
        ertrag:1,
    },

    Rotoren:{
        bild:"url('bilder/Rotoren.png')",
        produktionszeit:15,
        ressurce1:5,
        ressurce1Name:" Eisenstangen ",
        ressurce2:25,
        ressurce2Name:" Schrauben ",
        ertrag:1,
    },

    modularerRahmen:{
        bild:"url('bilder/modularer Rahmen.png')",
        produktionszeit:60,
        ressurce1:3,
        ressurce1Name:" Verstärkte Eisenplatten ",
        ressurce2:12,
        ressurce2Name:" Eisenstangen ",
        ertrag:2,
    },

    IntelligenteBeschichtung:{
        bild:"url('bilder/Intelligente Beschichtung.png')",
        produktionszeit:30,
        ressurce1:1,
        ressurce1Name:" Verstärkte Eisenplatten ",
        ressurce2:1,
        ressurce2Name:"Rotoren",
        ertrag:1,
    },

    AlienDNAKapsel:{
        bild:"url('bilder/Alien DNA-Kapsel.png')",
        produktionszeit:6,
        ressurce1:1,
        ressurce1Name:" Alien Protein ",
        ertrag:1,
    },

    Stahlbarren:{
        bild:"url('bilder/Stahlbarren.png')",
        produktionszeit:4,
        ressurce1:3,
        ressurce1Name:" Eisenerz ",
        ressurce2:3,
        ressurce2Name:" Kohle ",
        ertrag:3,
    },

    Stahlträger:{
        bild:"url('bilder/Stahlträger.png')",
        produktionszeit:4,
        ressurce1:4,
        ressurce1Name:" Stahlbarren ",
        ertrag:1,
    },

    Stahlrohre:{
        bild:"url('bilder/Stahlrohre.png')",
        produktionszeit:6,
        ressurce1:3,
        ressurce1Name:" Stahlbarren ",
        ertrag:2, 
    },

    Mehrzweckgerüst:{
        bild:"url('bilder/Mehrzweckgerüst.png')",
        produktionszeit:24,
        ressurce1:1,
        ressurce1Name:" Modularer Rahmen ",
        ressurce2:12,
        ressurce2Name:" Stahlträger ",
        ertrag:2,
    },

    Stahlbetontrager:{
        bild:"url('bilder/Stahlbetontrager.png')",
        produktionszeit:10,
        ressurce1:4,
        ressurce1Name:" Stahlträger ",
        ressurce2:5,
        ressurce2Name:" Beton ",
        ertrag:1,
    },

    Stator:{
        bild:"url('bilder/Stator.png')",
        produktionszeit:12,
        ressurce1:3,
        ressurce1Name:" Stahlrohr ",
        ressurce2:8,
        ressurce2Name:" Kupferdraht ",
        ertrag:1,
    },

    Motor:{
        bild:"url('bilder/Motor.png')",
        produktionszeit:12,
        ressurce1:2,
        ressurce1Name:" Rotoren ",
        ressurce2:2,
        ressurce2Name:" Statoren ",
        ertrag:1,
    },

    AutomatischeVerkabelung:{
        bild:"url('bilder/Automatische Verkabelung.png')",
        produktionszeit:24,
        ressurce1:1,
        ressurce1Name:" Statoren ",
        ressurce2:20,
        ressurce2Name:" Kabel ",
        ertrag:1,
    },

    SchwerermodularerRahmen:{
        bild:"url('bilder/Schwerer modularer Rahmen.png')",
        produktionszeit:30,
        ressurce1:5,
        ressurce1Name:" modularer Rahmen ",
        ressurce2:15,
        ressurce2Name:" Stahlrohr ",
        ressurce3:5,
        ressurce3Name:" Stahlbetonträger ",
        ressurce4:100,
        ressurce4Name:" Schrauben ",
        ertrag:1,
    },

    Cateriumbarren:{
        bild:"url('bilder/Cateriumbarren.png')",
        produktionszeit:4,
        ressurce1:3,
        ressurce1Name:" Cateriumerz ",
        ertrag:1,
    },

    Turbodraht:{
        bild:"url('bilder/Turbodraht.png')",
        produktionszeit:5,
        ressurce1:1,
        ressurce1Name:" Cateriumbarren ",
        ertrag:5,
    },

    KIBegrenzer:{
        bild:"url('bilder/KI-Begrenzer.png')",
        produktionszeit:12,
        ressurce1:5,
        ressurce1Name:"Kupferblech",
        ressurce2:20,
        ressurce2Name:" Turbodraht ",
        ertrag:1,
    },

    Quarzkristall:{
        bild:"url('bilder/Quarzkristall.png')",
        produktionszeit:8,
        ressurce1:5,
        ressurce1Name:" Rohquarz ",
        ertrag:3,
    },

    Quarzsand:{
        bild:"url('bilder/Quarzsand.png')",
        produktionszeit:8,
        ressurce1:3,
        ressurce1Name:" Rohquarz ",
        ertrag:5,
    },
//nebenprudukt von kunstof (schweröllrükstand)(1)muss noch hinzugefügt werdern
    Kunststoff:{
        bild:"url('bilder/Kunststoff.png')",
        produktionszeit:6,
        ressurce1:3,
        ressurce1Name:" Rohöl ",
        ertrag:2,
        
    },
//nebenprudukt von Gummi (schweröllrükstand)(2)muss noch hinzugefügt werdern
    Gummi:{
        bild:"url('bilder/Gummi.png')",
        produktionszeit:6,
        ressurce1:3,
        ressurce1Name:" Rohöl ",
        ertrag:2,
    },

    Platine:{
        bild:"url('bilder/Platine.png')",
        produktionszeit:8,
        ressurce1:2,
        ressurce1Name:" Kupferblech",
        ressurce2:4,
        ressurce2Name:" Kuststoff ",
        ertrag:1,
    },

    Computer:{
        bild:"url('bilder/Computer.png')",
        produktionszeit:24,
        ressurce1:10,
        ressurce1Name:" Platine ",
        ressurce2:9,
        ressurce2Name:" Kabel ",
        ressurce3:18,
        ressurce3Name:" Kuststoff ",
        ressurce4:52,
        ressurce4Name:" Schrauben ",
        ertrag:1,
    },

    ModularerMotor:{
        bild:"url('bilder/Modularer Motor.png')",
        produktionszeit:60,
        ressurce1:2,
        ressurce1Name:" Motor ",
        ressurce2:15,
        ressurce2Name:" Gummi ",
        ressurce3:2,
        ressurce3Name:" Intelligente Beschichtung ",
        ertrag:1,
    },

    AdaptiveSteuereinheit:{
        bild:"url('bilder/Adaptive Steuereinheit.png')",
        produktionszeit:120,
        ressurce1:15,
        ressurce1Name:" Automatische Verkabelung ",
        ressurce2:10,
        ressurce2Name:" Platine ",
        ressurce3:2,
        ressurce3Name:" Schwerer modularer Rahmen ",
        ressurce4:2,
        ressurce4Name:" Computer ",
        ertrag:2,
    },

    LeererKanister:{
        bild:"url('bilder/Leerer Kanister.png')",
        produktionszeit:4,
        ressurce1:2,
        ressurce1Name:" Kunststoff ",
        ertrag:4,
    },

    HighspeedAnschluss:{
        bild:"url('bilder/Highspeed-Anschluss.png')",
        produktionszeit:16,
        ressurce1:56,
        ressurce1Name:" Turbodraht ",
        ressurce2:10,
        ressurce2Name:" Kabel ",
        ressurce3:1,
        ressurce3Name:" Platine ",
        ertrag:1,
    },

    Quarzoszillator:{
        bild:"url('bilder/Quarzoszillator.png')",
        produktionszeit:120,
        ressurce1:36,
        ressurce1Name:" Quarzkristall ",
        ressurce2:28,
        ressurce2Name:" Kabel ",
        ressurce3:5,
        ressurce3Name:" Verstärkte Eisenplatten ",
        ertrag:2,
    },
}

let produkt = ""
produkt="Eisenbarren"

setInterval(function() {
    let produktionsmengeInput = document.getElementsByClassName("produkt-menge-feld")[0];
    let produktionsmenge = parseFloat(produktionsmengeInput.value);

    if (produktionsmenge < 1) {
        produktionsmengeInput.value =1;
    }

    if(isNaN(produktionsmenge)){
        produktionsmengeInput.value =1;
    }
    const werte = bibliothek[produkt]

    if(werte){
    
        const bild = werte.bild
        const produktionszeit = werte.produktionszeit
        const ressurce1 = werte.ressurce1
        const ressurce2 = werte.ressurce2
        const ressurce3 = werte.ressurce3
        const ressurce4 = werte.ressurce4
        const ressurce1Name = werte.ressurce1Name
        const ressurce2Name = werte.ressurce2Name
        const ressurce3Name = werte.ressurce3Name
        const ressurce4Name = werte.ressurce4Name
        const ertrag = werte.ertrag

        // Berechne die Gesamtzeit für die Herstellung
        const gesamtzeit = (produktionsmenge * produktionszeit) /60 ;
   
            // Berechne die Gesamtanzahl der benötigten Ressourcen
            const benötigteRessurce1 = produktionsmenge * ressurce1 / ertrag;
            const benötigteRessurce2 = produktionsmenge * ressurce2 / ertrag;
            const benötigteRessurce3 = produktionsmenge * ressurce3 / ertrag;
            const benötigteRessurce4 = produktionsmenge * ressurce4 / ertrag;

            const benötigteRessurce1Gerundet = parseFloat(benötigteRessurce1.toFixed(2))
            const benötigteRessurce2Gerundet = parseFloat(benötigteRessurce2.toFixed(2))
            const benötigteRessurce3Gerundet = parseFloat(benötigteRessurce3.toFixed(2))
            const benötigteRessurce4Gerundet = parseFloat(benötigteRessurce4.toFixed(2))


            const ressurce1Menge = document.getElementById("ressurce1-menge")
            const ressurce2Menge = document.getElementById("ressurce2-menge")
            const ressurce3Menge = document.getElementById("ressurce3-menge")
            const ressurce4Menge = document.getElementById("ressurce4-menge")


           ressurce1Menge.innerHTML=ressurce1Name +": " + benötigteRessurce1Gerundet
           ressurce2Menge.innerHTML=ressurce2Name +": "  + benötigteRessurce2Gerundet
           ressurce3Menge.innerHTML=ressurce3Name +": "  + benötigteRessurce3Gerundet
           ressurce4Menge.innerHTML=ressurce4Name +": "  + benötigteRessurce4Gerundet
            

            const produktbildContainer = document.querySelector(".produktbild-container");
            produktbildContainer.style.backgroundImage = bild;
           
            if (typeof ressurce2 === "undefined") {
                ressurce2Menge.style.visibility="hidden"
            }else{
                ressurce2Menge.style.visibility = "visible"
            }

            if (typeof ressurce3 === "undefined") {
                ressurce3Menge.style.visibility="hidden"
            }else{
                ressurce3Menge.style.visibility="visible"
            }

            if (typeof ressurce4 === "undefined") {
                ressurce4Menge.style.visibility="hidden"
            }else{
                ressurce4Menge.style.visibility="visible"
            }


           
            

    }else{
        console.log("Produkt nicht gefunden in der Bibliothek");
    }




    
}, 100);

   

function produktmengeVerringern(){
    let produktmengeInput = document.getElementsByClassName("produkt-menge-feld")[0]

    produktmengeInput.value--
}

produktmengeErhöhen()
function produktmengeErhöhen(){
    let produktmengeInput = document.getElementsByClassName("produkt-menge-feld")[0]

    produktmengeInput.value++
}

const produkteAuswahlContainer = document.getElementById("produkte-auswahl-container");
produkteAuswahlContainer.style.visibility = "hidden";

function produkteAuswahlEinAusBlenden() {
    
    const produkteAuswahlContainer = document.getElementById("produkte-auswahl-container");
    const produktBilder = document.getElementsByClassName("produkt-bild");

    if (produkteAuswahlContainer.style.visibility === "hidden") {
        produkteAuswahlContainer.style.visibility = "visible";

        for (let e = 0; e < produktBilder.length; e++) {
            produktBilder[e].style.transition = "ease 0.3s";
        }

        console.log("true")
    } else {
        for (let i = 0; i < produktBilder.length; i++) {
            produktBilder[i].style.transition = "ease 0.0s";
        }
        produkteAuswahlContainer.style.visibility = "hidden";
        
        console.log("false")
    }
}
